new entry "ChronalShift"
type "PassiveData"
data "DisplayName" "h41c04cc1g55d5g40cagad48gc7545d5c55b9;1"
data "Description" "h1d45e151gac54g4228gaeedgd0b91171d61e;1"
data "Icon" "Icon_ChronalShift"
data "Properties" "Highlighted"
data "Boosts" "UnlockSpell(Target_ChronalShift);UnlockInterrupt(Interrupt_ChronalShift)"

new entry "Target_ChronalShift"
type "SpellData"
data "SpellType" "Target"
data "ContainerSpells" "Target_ChronalShift_AbilityCheck_Bonus;Target_ChronalShift_AbilityCheck_Penalty"
data "TargetRadius" "18"
data "TargetConditions" "Character() and not Dead()"
data "Icon" "Icon_ChronalShift"
data "DisplayName" "h41c04cc1g55d5g40cagad48gc7545d5c55b9;1"
data "Description" "h1d45e151gac54g4228gaeedgd0b91171d61e;1"
data "PrepareSound" "Spell_Prepare_Control_Gen_L1to3_01"
data "PrepareLoopSound" "Spell_Prepare_Control_Gen_L1to3_01_Loop"
data "CastSound" "Spell_Cast_Buff_BendLuck_L6to8"
data "TargetSound" "Spell_Impact_Buff_BendLuck_L6to8"
data "CastTextEvent" "Cast"
data "CycleConditions" "Ally() and not Dead()"
data "UseCosts" "ReactionActionPoint:1;ChronalShiftResource:1"
data "SpellAnimation" "554a18f7-952e-494a-b301-7702a85d4bc9,,;,,;3e441d3f-11f9-432d-877c-c0ba4d92c74a,,;8b7ae969-2a04-4720-9685-3bde54c18ffe,,;22dfbbf4-f417-4c84-b39e-2039315961e6,,;,,;5bfbe9f9-4fc3-4f26-b112-43d404db6a89,,;,,;,,"
data "VerbalIntent" "Buff"
data "SpellFlags" "HasHighGroundRangeExtension;Stealth;Invisible;IsLinkedSpellContainer"
data "HitAnimationType" "None"
data "PrepareEffect" "c218f05b-1e12-4298-beff-e4d33a5fa5a5"
data "CastEffect" "267444f7-9648-4725-866f-52ebad8fb1bb"

new entry "Target_ChronalShift_AbilityCheck_Bonus"
type "SpellData"
data "SpellType" "Target"
using "Target_ChronalShift"
data "SpellContainerID" "Target_ChronalShift"
data "ContainerSpells" ""
data "SpellProperties" "ApplyStatus(CHRONAL_SHIFT_ABILITY_BONUS,100,5);ApplyStatus(CHRONAL_SHIFT_FX,100,0)"
data "DisplayName" "h902dd111g6cffg4994g9871gf6dcfb40b8b2;1"
data "Description" "h3f2e250agd758g4d43g8602ga3fff5c8bbfe;1"
data "PrepareLoopSound" "Spell_Loop_Control_GlyphofWardingSleep_L5"
data "TargetSound" "Action_Impact_Reduce"
data "TooltipStatusApply" "ApplyStatus(CHRONAL_SHIFT_ABILITY_BONUS,100,5)"
data "SpellFlags" "HasHighGroundRangeExtension;Stealth;Invisible"
data "HitAnimationType" "MagicalNonDamage"
data "InterruptPrototype" ""
data "SpellSoundMagnitude" "Small"

new entry "Target_ChronalShift_AbilityCheck_Penalty"
type "SpellData"
data "SpellType" "Target"
using "Target_ChronalShift_AbilityCheck_Bonus"
data "SpellProperties" "ApplyStatus(CHRONAL_SHIFT_ABILITY_PENALTY,100,5);ApplyStatus(CHRONAL_SHIFT_FX,100,0)"
data "DisplayName" "hc9f0af89g9792g4cc6gaa83g7e380ad1b566;1"
data "Description" "h54872ebegb4d6g4f34gad52gaa1a5de23e60;1"
data "TargetSound" "Spell_Impact_Buff_Enlarge_L1to3"
data "TooltipStatusApply" "ApplyStatus(CHRONAL_SHIFT_ABILITY_PENALTY,100,5)"
data "CycleConditions" "Enemy() and not Dead()"
data "HitAnimationType" "MagicalDamage_External"
data "SpellSoundMagnitude" "Small"

new entry "CHRONAL_SHIFT_FX"
type "StatusData"
data "StatusType" "BOOST"
data "DisplayName" ""
data "Description" ""
data "Icon" "Icon_ChronalShift"'
data "StackId" ""
data "SoundStart" "UI_Gameplay_FTB_Exit"
data "StatusEffect" "VFX_Spells_Cast_Paladin_Debuff_Impact_ChestFX_Texkey_02:Dummy_ChestFX;VFX_Spells_Cast_Paladin_Buff_HandFX_Texkey_01:Dummy_R_HandFX,Dummy_L_HandFX"
data "StatusPropertyFlags" "DisableOverhead;DisableCombatlog;DisablePortraitIndicator"
data "StatusGroups" "SG_RemoveOnRespec"

new entry "Interrupt_ChronalShift"
type "InterruptData"
data "DisplayName" "h41c04cc1g55d5g40cagad48gc7545d5c55b9;1"
data "Description" "h3ca409e5g1a80g4a6ag8b0fgb0f18e12fe37;1"
data "Icon" "Icon_ChronalShift"
data "InterruptContext" "OnPostRoll"
data "InterruptContextScope" "Nearby"
data "Container" "YesNoDecision"
data "Conditions" "not Dead(context.Observer) and DistanceToGreaterThan(context.ObserverPosition, context.SourcePosition, 9) and ((Self(context.Source,context.Observer) and HasInterruptedAttack() and IsRerollInterruptInteresting(context.Source)) or (Self(context.Target,context.Observer) and HasInterruptedSavingThrow() and IsRerollInterruptInteresting())) or ((Ally(context.Source,context.Observer) and HasInterruptedAttack() and IsRerollInterruptInteresting(context.Source)) or (Ally(context.Target,context.Observer) and HasInterruptedSavingThrow() and IsRerollInterruptInteresting())) or ((Enemy(context.Source,context.Observer) and HasInterruptedAttack() and IsRerollInterruptInteresting(context.Source)) or (Enemy(context.Source,context.Observer) and HasInterruptedSavingThrow() and IsRerollInterruptInteresting()))"
data "Properties" "SetReroll(20,true);ApplyStatus(OBSERVER_OBSERVER,CHRONAL_SHIFT_FX,100,0)"
data "Cost" "ReactionActionPoint:1;ChronalShiftResource:1"
data "Stack" "ChronalShift"
data "InterruptDefaultValue" "Ask;Enabled"

new entry "CHRONAL_SHIFT_ABILITY_BONUS"
type "StatusData"
data "StatusType" "BOOST"
data "DisplayName" "h902dd111g6cffg4994g9871gf6dcfb40b8b2;1"
data "Description" "h49b5de09g8249g4c8cga38ag159a3975fcd9;1"
data "Icon" "Icon_ChronalShift"
data "StackId" "CHRONAL_SHIFT"
data "Boosts" "RollBonus(SkillCheck,1d4);RollBonus(RawAbility,1d4)"
data "StatusEffect" "VFX_Spells_Cast_Sorcerer_TidesOfChaos_BodyFX_01:Dummy_BodyFX"
data "StatusGroups" "SG_RemoveOnRespec"

new entry "CHRONAL_SHIFT_ABILITY_PENALTY"
type "StatusData"
data "StatusType" "BOOST"
data "DisplayName" "hc9f0af89g9792g4cc6gaa83g7e380ad1b566;1"
data "Description" "h5ce67fa8gcb59g441cga627g7c6f221ec2cc;1"
data "Icon" "Icon_ChronalShift"
data "StackId" "CHRONAL_SHIFT"
data "Boosts" "RollBonus(SkillCheck,-1d4);RollBonus(RawAbility,-1d4)"
data "StatusEffect" "VFX_Spells_Cast_Sorcerer_TidesOfChaos_BodyFX_01:Dummy_BodyFX"
data "StatusGroups" "SG_RemoveOnRespec"